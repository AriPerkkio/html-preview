import{S as P,i as D,s as O,F as ve,C as y,e as G,c as W,a as h,d as m,b as v,L as oe,M as Z,g as z,J as p,N as pe,G as $e,H as we,I as be,z as J,q as B,o as I,O as C,P as se,Q as w,R as b,T as x,K as N,w as R,x as L,y as A,B as T,k as H,m as q,n as le,p as ie,v as ce,U as ue,V as X,l as ee,W as te,X as Ee,Y as ne,Z as ye,t as Be,h as Ie,_ as ke}from"../chunks/vendor-d81b3668.js";import{_ as Me,b as fe}from"../chunks/paths-fb6b994c.js";function ze(r){let e,n,t,i,a;const o=r[2].default,s=ve(o,r,r[1],null);let l=[r[0]],f={};for(let d=0;d<l.length;d+=1)f=y(f,l[d]);return{c(){e=G("button"),n=G("div"),s&&s.c(),this.h()},l(d){e=W(d,"BUTTON",{});var g=h(e);n=W(g,"DIV",{"aria-hidden":!0});var k=h(n);s&&s.l(k),k.forEach(m),g.forEach(m),this.h()},h(){v(n,"aria-hidden","true"),oe(e,f),Z(e,"svelte-1ml40bo",!0)},m(d,g){z(d,e,g),p(e,n),s&&s.m(n,null),e.autofocus&&e.focus(),t=!0,i||(a=pe(e,"click",r[3]),i=!0)},p(d,[g]){s&&s.p&&(!t||g&2)&&$e(s,o,d,d[1],t?be(o,d[1],g,null):we(d[1]),null),oe(e,f=J(l,[g&1&&d[0]])),Z(e,"svelte-1ml40bo",!0)},i(d){t||(B(s,d),t=!0)},o(d){I(s,d),t=!1},d(d){d&&m(e),s&&s.d(d),i=!1,a()}}}function Re(r,e,n){let{$$slots:t={},$$scope:i}=e;function a(o){se.call(this,r,o)}return r.$$set=o=>{n(0,e=y(y({},e),C(o))),"$$scope"in o&&n(1,i=o.$$scope)},e=C(e),[e,i,t,a]}class Y extends P{constructor(e){super();D(this,e,Re,ze,O,{})}}function Le(r){let e,n,t,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],a={};for(let o=0;o<i.length;o+=1)a=y(a,i[o]);return{c(){e=w("svg"),n=w("g"),t=w("path"),this.h()},l(o){e=b(o,"svg",{xmlns:!0,viewBox:!0});var s=h(e);n=b(s,"g",{"data-name":!0});var l=h(n);t=b(l,"path",{d:!0,"data-name":!0}),h(t).forEach(m),l.forEach(m),s.forEach(m),this.h()},h(){v(t,"d","m13.41 12 4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"),v(t,"data-name","close"),v(n,"data-name","Layer 2"),x(e,a)},m(o,s){z(o,e,s),p(e,n),p(n,t)},p(o,[s]){x(e,a=J(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},s&1&&o[0]]))},i:N,o:N,d(o){o&&m(e)}}}function Ae(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class Te extends P{constructor(e){super();D(this,e,Ae,Le,O,{})}}function de(r){let e,n;return e=new Y({props:{"aria-label":"Remove editor",class:"remove",$$slots:{default:[Ce]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},p(t,i){const a={};i&256&&(a.$$scope={dirty:i,ctx:t}),e.$set(a)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ce(r){let e,n;return e=new Te({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function xe(r){let e,n,t,i,a=r[2]&&de(r);return{c(){e=G("div"),n=G("textarea"),t=H(),a&&a.c(),this.h()},l(o){e=W(o,"DIV",{class:!0});var s=h(e);n=W(s,"TEXTAREA",{class:!0}),h(n).forEach(m),t=q(s),a&&a.l(s),s.forEach(m),this.h()},h(){n.value=r[0],v(n,"class","svelte-18aggyt"),v(e,"class","codemirror-container svelte-18aggyt"),Z(e,"active",r[1])},m(o,s){z(o,e,s),p(e,n),r[6](n),p(e,t),a&&a.m(e,null),i=!0},p(o,[s]){(!i||s&1)&&(n.value=o[0]),o[2]?a?(a.p(o,s),s&4&&B(a,1)):(a=de(o),a.c(),B(a,1),a.m(e,null)):a&&(le(),I(a,1,1,()=>{a=null}),ie()),s&2&&Z(e,"active",o[1])},i(o){i||(B(a),i=!0)},o(o){I(a),i=!1},d(o){o&&m(e),r[6](null),a&&a.d()}}}function Ne(r,e,n){let{code:t=""}=e,{editorId:i}=e,{active:a=!1}=e,{canBeRemoved:o=!0}=e,s;ce(async()=>{if(!s)throw new Error("Missing ref to textarea");const{default:g}=await Me(()=>import("../chunks/codemirror-f605f246.js"),["chunks/codemirror-f605f246.js","assets/codemirror-6f45da0e.css"]);g.fromTextArea(s,{lineNumbers:!0,lineWrapping:!0,mode:"htmlmixed",autoCloseBrackets:!0,autoCloseTags:!0,value:t}).on("change",_=>{n(0,t=_.getValue()),l("change",{value:t,editorId:i})})});const l=ue();function f(){l("remove",{editorId:i})}function d(g){X[g?"unshift":"push"](()=>{s=g,n(3,s)})}return r.$$set=g=>{"code"in g&&n(0,t=g.code),"editorId"in g&&n(5,i=g.editorId),"active"in g&&n(1,a=g.active),"canBeRemoved"in g&&n(2,o=g.canBeRemoved)},r.$$.update=()=>{r.$$.dirty&35&&a&&l("change",{value:t,editorId:i})},[t,a,o,s,f,i,d]}class ge extends P{constructor(e){super();D(this,e,Ne,xe,O,{code:0,editorId:5,active:1,canBeRemoved:2})}}function Se(r){let e,n,t,i,a,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],s={};for(let l=0;l<o.length;l+=1)s=y(s,o[l]);return{c(){e=w("svg"),n=w("g"),t=w("g"),i=w("path"),a=w("path"),this.h()},l(l){e=b(l,"svg",{xmlns:!0,viewBox:!0});var f=h(e);n=b(f,"g",{"data-name":!0});var d=h(n);t=b(d,"g",{"data-name":!0});var g=h(t);i=b(g,"path",{d:!0}),h(i).forEach(m),a=b(g,"path",{d:!0}),h(a).forEach(m),g.forEach(m),d.forEach(m),f.forEach(m),this.h()},h(){v(i,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),v(a,"d","M12.34 7.45a1.7 1.7 0 0 0-1.85-.3 1.6 1.6 0 0 0-1 1.48v6.74a1.6 1.6 0 0 0 1 1.48 1.68 1.68 0 0 0 .69.15 1.74 1.74 0 0 0 1.16-.45L16 13.18a1.6 1.6 0 0 0 0-2.36zm-.84 7.15V9.4l2.81 2.6z"),v(t,"data-name","play-circle"),v(n,"data-name","Layer 2"),x(e,s)},m(l,f){z(l,e,f),p(e,n),p(n,t),p(t,i),p(t,a)},p(l,[f]){x(e,s=J(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&l[0]]))},i:N,o:N,d(l){l&&m(e)}}}function Ue(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class Ve extends P{constructor(e){super();D(this,e,Ue,Se,O,{})}}function Pe(r){let e,n,t,i,a,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],s={};for(let l=0;l<o.length;l+=1)s=y(s,o[l]);return{c(){e=w("svg"),n=w("g"),t=w("g"),i=w("path"),a=w("path"),this.h()},l(l){e=b(l,"svg",{xmlns:!0,viewBox:!0});var f=h(e);n=b(f,"g",{"data-name":!0});var d=h(n);t=b(d,"g",{"data-name":!0});var g=h(t);i=b(g,"path",{d:!0}),h(i).forEach(m),a=b(g,"path",{d:!0}),h(a).forEach(m),g.forEach(m),d.forEach(m),f.forEach(m),this.h()},h(){v(i,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),v(a,"d","M15 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1zM9 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"),v(t,"data-name","pause-circle"),v(n,"data-name","Layer 2"),x(e,s)},m(l,f){z(l,e,f),p(e,n),p(n,t),p(t,i),p(t,a)},p(l,[f]){x(e,s=J(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&l[0]]))},i:N,o:N,d(l){l&&m(e)}}}function De(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class Oe extends P{constructor(e){super();D(this,e,De,Pe,O,{})}}function He(r){let e,n,t,i,a,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],s={};for(let l=0;l<o.length;l+=1)s=y(s,o[l]);return{c(){e=w("svg"),n=w("g"),t=w("g"),i=w("path"),a=w("path"),this.h()},l(l){e=b(l,"svg",{xmlns:!0,viewBox:!0});var f=h(e);n=b(f,"g",{"data-name":!0});var d=h(n);t=b(d,"g",{"data-name":!0});var g=h(t);i=b(g,"path",{d:!0}),h(i).forEach(m),a=b(g,"path",{d:!0}),h(a).forEach(m),g.forEach(m),d.forEach(m),f.forEach(m),this.h()},h(){v(i,"d","M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z"),v(a,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),v(t,"data-name","arrow-circle-right"),v(n,"data-name","Layer 2"),x(e,s)},m(l,f){z(l,e,f),p(e,n),p(n,t),p(t,i),p(t,a)},p(l,[f]){x(e,s=J(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&l[0]]))},i:N,o:N,d(l){l&&m(e)}}}function qe(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class Fe extends P{constructor(e){super();D(this,e,qe,He,O,{})}}function Ge(r){let e,n,t,i,a,o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],s={};for(let l=0;l<o.length;l+=1)s=y(s,o[l]);return{c(){e=w("svg"),n=w("g"),t=w("g"),i=w("path"),a=w("path"),this.h()},l(l){e=b(l,"svg",{xmlns:!0,viewBox:!0});var f=h(e);n=b(f,"g",{"data-name":!0});var d=h(n);t=b(d,"g",{"data-name":!0});var g=h(t);i=b(g,"path",{d:!0}),h(i).forEach(m),a=b(g,"path",{d:!0}),h(a).forEach(m),g.forEach(m),d.forEach(m),f.forEach(m),this.h()},h(){v(i,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),v(a,"d","M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"),v(t,"data-name","plus-circle"),v(n,"data-name","Layer 2"),x(e,s)},m(l,f){z(l,e,f),p(e,n),p(n,t),p(t,i),p(t,a)},p(l,[f]){x(e,s=J(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&l[0]]))},i:N,o:N,d(l){l&&m(e)}}}function We(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class je extends P{constructor(e){super();D(this,e,We,Ge,O,{})}}function me(r,e,n){const t=r.slice();return t[12]=e[n],t[13]=e,t[14]=n,t}function Je(r){let e,n;return e=new Ve({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Xe(r){let e,n;return e=new Oe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ye(r){let e,n;return e=new Fe({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function Ke(r){let e,n;return e=new je({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function _e(r,e){let n,t,i,a;function o(l){e[9](l,e[12])}let s={canBeRemoved:e[12].id!==Q,active:e[12].id===e[1],editorId:e[12].id};return e[12].code!==void 0&&(s.code=e[12].code),t=new ge({props:s}),X.push(()=>ne(t,"code",o)),t.$on("change",e[8]),t.$on("remove",e[4]),{key:r,first:null,c(){n=ee(),R(t.$$.fragment),this.h()},l(l){n=ee(),L(t.$$.fragment,l),this.h()},h(){this.first=n},m(l,f){z(l,n,f),A(t,l,f),a=!0},p(l,f){e=l;const d={};f&1&&(d.canBeRemoved=e[12].id!==Q),f&3&&(d.active=e[12].id===e[1]),f&1&&(d.editorId=e[12].id),!i&&f&1&&(i=!0,d.code=e[12].code,te(()=>i=!1)),t.$set(d)},i(l){a||(B(t.$$.fragment,l),a=!0)},o(l){I(t.$$.fragment,l),a=!1},d(l){l&&m(n),T(t,l)}}}function Qe(r){let e,n,t,i,a,o,s,l,f=[],d=new Map,g,k;e=new Y({props:{"aria-label":"Loop states",disabled:r[2]!=null,$$slots:{default:[Je]},$$scope:{ctx:r}}}),e.$on("click",r[6]),t=new Y({props:{"aria-label":"Pause state looping",disabled:r[2]==null,$$slots:{default:[Xe]},$$scope:{ctx:r}}}),t.$on("click",r[7]),a=new Y({props:{"aria-label":"Next state",$$slots:{default:[Ye]},$$scope:{ctx:r}}}),a.$on("click",r[5]),s=new Y({props:{"aria-label":"Add editor",$$slots:{default:[Ke]},$$scope:{ctx:r}}}),s.$on("click",r[3]);let _=r[0];const S=u=>u[12].id;for(let u=0;u<_.length;u+=1){let c=me(r,_,u),$=S(c);d.set($,f[u]=_e($,c))}return{c(){R(e.$$.fragment),n=H(),R(t.$$.fragment),i=H(),R(a.$$.fragment),o=H(),R(s.$$.fragment),l=H();for(let u=0;u<f.length;u+=1)f[u].c();g=ee()},l(u){L(e.$$.fragment,u),n=q(u),L(t.$$.fragment,u),i=q(u),L(a.$$.fragment,u),o=q(u),L(s.$$.fragment,u),l=q(u);for(let c=0;c<f.length;c+=1)f[c].l(u);g=ee()},m(u,c){A(e,u,c),z(u,n,c),A(t,u,c),z(u,i,c),A(a,u,c),z(u,o,c),A(s,u,c),z(u,l,c);for(let $=0;$<f.length;$+=1)f[$].m(u,c);z(u,g,c),k=!0},p(u,[c]){const $={};c&4&&($.disabled=u[2]!=null),c&32768&&($.$$scope={dirty:c,ctx:u}),e.$set($);const M={};c&4&&(M.disabled=u[2]==null),c&32768&&(M.$$scope={dirty:c,ctx:u}),t.$set(M);const F={};c&32768&&(F.$$scope={dirty:c,ctx:u}),a.$set(F);const j={};c&32768&&(j.$$scope={dirty:c,ctx:u}),s.$set(j),c&275&&(_=u[0],le(),f=Ee(f,c,S,1,u,_,d,g.parentNode,ye,_e,g,me),ie())},i(u){if(!k){B(e.$$.fragment,u),B(t.$$.fragment,u),B(a.$$.fragment,u),B(s.$$.fragment,u);for(let c=0;c<_.length;c+=1)B(f[c]);k=!0}},o(u){I(e.$$.fragment,u),I(t.$$.fragment,u),I(a.$$.fragment,u),I(s.$$.fragment,u);for(let c=0;c<f.length;c+=1)I(f[c]);k=!1},d(u){T(e,u),u&&m(n),T(t,u),u&&m(i),T(a,u),u&&m(o),T(s,u),u&&m(l);for(let c=0;c<f.length;c+=1)f[c].d(u);u&&m(g)}}}const Q=1;function Ze(r,e,n){var u;let t;const i=ue();let{editors:a=[{id:Q,code:""}]}=e,o=((u=a[0])==null?void 0:u.id)||Q,s;function l(){var $;const c=(($=a.find(M=>M.id===t))==null?void 0:$.code)||"";n(0,a=[...a,{id:1+t,code:c}])}function f(c){const{editorId:$}=c.detail;if(o===$){const M=a.findIndex(j=>j.id===$),F=a[M-1];n(1,o=(F==null?void 0:F.id)||Q)}n(0,a=a.filter(M=>M.id!==$))}function d(){const c=a.map(M=>M.id);if(o===t){n(1,o=Math.min(...c));return}const $=c.indexOf(o);n(1,o=c[1+$])}function g(){if(!s){const c=setInterval(d,2e3);n(2,s=()=>clearInterval(c))}}function k(){s&&(s(),n(2,s=null))}function _(c){const{value:$,editorId:M}=c.detail;M===o&&i("change",{value:$})}function S(c,$){r.$$.not_equal($.code,c)&&($.code=c,n(0,a))}return r.$$set=c=>{"editors"in c&&n(0,a=c.editors)},r.$$.update=()=>{r.$$.dirty&1&&(t=Math.max(...a.map(c=>c.id)))},[a,o,s,l,f,d,g,k,_,S]}class et extends P{constructor(e){super();D(this,e,Ze,Qe,O,{editors:0})}}function tt(r){let e,n,t;function i(o){r[1](o)}let a={editorId:0,canBeRemoved:!1};return r[0]!==void 0&&(a.code=r[0]),e=new ge({props:a}),X.push(()=>ne(e,"code",i)),e.$on("change",r[2]),{c(){R(e.$$.fragment)},l(o){L(e.$$.fragment,o)},m(o,s){A(e,o,s),t=!0},p(o,[s]){const l={};!n&&s&1&&(n=!0,l.code=o[0],te(()=>n=!1)),e.$set(l)},i(o){t||(B(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){T(e,o)}}}function nt(r,e,n){let{code:t=""}=e;function i(o){t=o,n(0,t)}function a(o){se.call(this,r,o)}return r.$$set=o=>{"code"in o&&n(0,t=o.code)},[t,i,a]}class rt extends P{constructor(e){super();D(this,e,nt,tt,O,{code:0})}}function at(){const r={editors:[{id:1,code:""}],style:`<style>
  
</style>`},e=new URLSearchParams(document.location.search).get("code");let n;if(e)try{const t=atob(decodeURIComponent(e));n=JSON.parse(t)}catch(t){console.error("Unable to parse url search parameters",t)}return re(n,"style")&&typeof n.style=="string"&&re(n,"editors")&&Array.isArray(n.editors)&&n.editors.every(st)?{style:n.style,editors:n.editors}:r}function ot(r){const e=btoa(JSON.stringify(r)),n=new URL(fe,window.location.origin);return n.searchParams.set("code",encodeURIComponent(e)),n}function st(r){return re(r,"id")&&typeof r.id=="number"&&re(r,"code")&&typeof r.code=="string"}function re(r,e){return r?e in r:!1}function lt(r){let e,n,t,i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},r[0]],a={};for(let o=0;o<i.length;o+=1)a=y(a,i[o]);return{c(){e=w("svg"),n=w("g"),t=w("path"),this.h()},l(o){e=b(o,"svg",{xmlns:!0,viewBox:!0});var s=h(e);n=b(s,"g",{"data-name":!0});var l=h(n);t=b(l,"path",{d:!0,"data-name":!0}),h(t).forEach(m),l.forEach(m),s.forEach(m),this.h()},h(){v(t,"d","M18 15a3 3 0 0 0-2.1.86L8 12.34v-.67l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3zm0-10a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM5 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm13 6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"),v(t,"data-name","share"),v(n,"data-name","Layer 2"),x(e,a)},m(o,s){z(o,e,s),p(e,n),p(n,t)},p(o,[s]){x(e,a=J(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},s&1&&o[0]]))},i:N,o:N,d(o){o&&m(e)}}}function it(r,e,n){return r.$$set=t=>{n(0,e=y(y({},e),C(t)))},e=C(e),[e]}class ct extends P{constructor(e){super();D(this,e,it,lt,O,{})}}function ut(r){let e,n;return e=new ct({}),{c(){R(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,i){A(e,t,i),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){T(e,t)}}}function he(r){let e;return{c(){e=Be("URL copied to clipboard!")},l(n){e=Ie(n,"URL copied to clipboard!")},m(n,t){z(n,e,t)},d(n){n&&m(e)}}}function ft(r){let e,n,t,i,a,o,s,l,f,d,g,k,_,S,u;o=new Y({props:{$$slots:{default:[ut]},$$scope:{ctx:r}}}),o.$on("click",r[5]);let c=r[2]&&he();function $(E){r[7](E)}let M={};r[0]!==void 0&&(M.code=r[0]),d=new rt({props:M}),X.push(()=>ne(d,"code",$));function F(E){r[8](E)}let j={};return r[3]!==void 0&&(j.editors=r[3]),_=new et({props:j}),X.push(()=>ne(_,"editors",F)),_.$on("change",r[4]),{c(){e=G("div"),n=G("iframe"),i=H(),a=G("div"),R(o.$$.fragment),s=H(),l=G("span"),c&&c.c(),f=H(),R(d.$$.fragment),k=H(),R(_.$$.fragment),this.h()},l(E){e=W(E,"DIV",{class:!0});var U=h(e);n=W(U,"IFRAME",{security:!0,src:!0,title:!0}),h(n).forEach(m),i=q(U),a=W(U,"DIV",{class:!0});var V=h(a);L(o.$$.fragment,V),s=q(V),l=W(V,"SPAN",{"aria-live":!0});var K=h(l);c&&c.l(K),K.forEach(m),f=q(V),L(d.$$.fragment,V),k=q(V),L(_.$$.fragment,V),V.forEach(m),U.forEach(m),this.h()},h(){v(n,"security","restricted"),ke(n.src,t=""+(fe+"/sandbox"))||v(n,"src",t),v(n,"title","Sandbox"),v(l,"aria-live","polite"),v(a,"class","controls svelte-1ylgupi"),v(e,"class","wrapper svelte-1ylgupi")},m(E,U){z(E,e,U),p(e,n),r[6](n),p(e,i),p(e,a),A(o,a,null),p(a,s),p(a,l),c&&c.m(l,null),p(a,f),A(d,a,null),p(a,k),A(_,a,null),u=!0},p(E,[U]){const V={};U&1024&&(V.$$scope={dirty:U,ctx:E}),o.$set(V),E[2]?c||(c=he(),c.c(),c.m(l,null)):c&&(c.d(1),c=null);const K={};!g&&U&1&&(g=!0,K.code=E[0],te(()=>g=!1)),d.$set(K);const ae={};!S&&U&8&&(S=!0,ae.editors=E[3],te(()=>S=!1)),_.$set(ae)},i(E){u||(B(o.$$.fragment,E),B(d.$$.fragment,E),B(_.$$.fragment,E),u=!0)},o(E){I(o.$$.fragment,E),I(d.$$.fragment,E),I(_.$$.fragment,E),u=!1},d(E){E&&m(e),r[6](null),T(o),c&&c.d(),T(d),T(_)}}}function dt(r,e,n){const t={};let i,{editors:a,style:o}=at();ce(()=>{s({type:"CONTENT_CHANGE",value:a[0].code})});function s(_,S=5){var c;const u=(c=t.sandbox)==null?void 0:c.contentWindow;u?u.postMessage(_):S>0&&setTimeout(()=>s(_,S-1),500)}function l(_){s({type:"CONTENT_CHANGE",value:_.detail.value})}function f(){const _=ot({style:o,editors:a});window.history.pushState({},"",_),n(2,i=_.toString()),navigator.clipboard.writeText(i).then(()=>{setTimeout(()=>{n(2,i="")},3e3)})}function d(_){X[_?"unshift":"push"](()=>{t.sandbox=_,n(1,t)})}function g(_){o=_,n(0,o)}function k(_){a=_,n(3,a)}return r.$$.update=()=>{r.$$.dirty&1&&s({type:"STYLE_CHANGE",value:o})},[o,t,i,a,l,f,d,g,k]}class _t extends P{constructor(e){super();D(this,e,dt,ft,O,{})}}export{_t as default};
