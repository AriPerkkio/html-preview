import{S as g,i as T,s as w,e as f,k as E,c as _,a as y,d as u,m as M,b as p,g as H,J as m,N as L,K as v,v as k,$ as C,V as b}from"../chunks/vendor-d81b3668.js";function N(n){let t,a,o,e,i,c;return{c(){t=f("div"),a=f("style"),o=E(),e=f("div"),this.h()},l(r){t=_(r,"DIV",{id:!0,"data-state":!0,class:!0});var s=y(t);a=_(s,"STYLE",{});var d=y(a);d.forEach(u),o=M(s),e=_(s,"DIV",{}),y(e).forEach(u),s.forEach(u),this.h()},h(){p(t,"id","sandbox-wrapper"),p(t,"data-state",n[0]),p(t,"class","svelte-13fpvwq")},m(r,s){H(r,t,s),m(t,a),n[3](a),m(t,o),m(t,e),n[4](e),i||(c=L(window,"message",n[2]),i=!0)},p(r,[s]){s&1&&p(t,"data-state",r[0])},i:v,o:v,d(r){r&&u(t),n[3](null),n[4](null),i=!1,c()}}}function S(n,t){const a=n.outerHTML,o=t.outerHTML;a!==o&&console.warn("DOM changes do not match",{actualOuterHTML:o,expectedOuterHTML:a})}function O(n,t,a){let o="";k(()=>{a(0,o="sandbox-ready")});const e={};function i(s){const{type:d,value:h}=s.data;switch(d){case"CONTENT_CHANGE":if(e==null?void 0:e.root){const l=document.createElement("div");l.innerHTML=h;try{C(e.root,l)}catch{}S(l,e.root)}break;case"STYLE_CHANGE":if(e==null?void 0:e.styles){const l=h.replace("<style>","").replace("</style>","");a(1,e.styles.innerHTML=l,e)}break;default:console.error("Unknown event caught",{type:d,value:h})}}function c(s){b[s?"unshift":"push"](()=>{e.styles=s,a(1,e)})}function r(s){b[s?"unshift":"push"](()=>{e.root=s,a(1,e)})}return[o,e,i,c,r]}class q extends g{constructor(t){super();T(this,t,O,N,w,{})}}export{q as default};
