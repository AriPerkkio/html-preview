import{S as C,i as N,s as D,e as h,k as v,t as O,c as u,a as y,m as L,h as Y,d as f,b as S,g,J as s,L as G,K as k,O as x}from"../chunks/vendor-b5f731c1.js";function I(i){let a,n,t,b,c,E,e,l,d,o,r,T,w;return{c(){a=h("html"),n=h("head"),t=h("meta"),b=v(),c=h("title"),E=O("Sandbox"),e=v(),l=h("style"),d=v(),o=h("body"),r=h("div"),this.h()},l(m){a=u(m,"HTML",{lang:!0});var p=y(a);n=u(p,"HEAD",{});var _=y(n);t=u(_,"META",{charset:!0}),b=L(_),c=u(_,"TITLE",{});var H=y(c);E=Y(H,"Sandbox"),H.forEach(f),e=L(_),l=u(_,"STYLE",{});var A=y(l);A.forEach(f),_.forEach(f),d=L(p),o=u(p,"BODY",{class:!0});var M=y(o);r=u(M,"DIV",{}),y(r).forEach(f),M.forEach(f),p.forEach(f),this.h()},h(){S(t,"charset","utf-8"),S(o,"class","sandbox preview"),S(a,"lang","en")},m(m,p){g(m,a,p),s(a,n),s(n,t),s(n,b),s(n,c),s(c,E),s(n,e),s(n,l),i[2](l),s(a,d),s(a,o),s(o,r),i[3](r),T||(w=G(window,"message",i[1]),T=!0)},p:k,i:k,o:k,d(m){m&&f(a),i[2](null),i[3](null),T=!1,w()}}}function j(i,a,n){const t={};function b(e){var o,r;const l=(o=e==null?void 0:e.data)==null?void 0:o.type,d=(r=e==null?void 0:e.data)==null?void 0:r.value;switch(l){case"CONTENT_CHANGE":(t==null?void 0:t.root)&&n(0,t.root.innerHTML=d,t);break;case"STYLE_CHANGE":if(t==null?void 0:t.styles){const T=d.replace("<style>","").replace("</style>","");n(0,t.styles.innerHTML=T,t)}break;default:console.error("Unknown event caught",{type:l,value:d})}}function c(e){x[e?"unshift":"push"](()=>{t.styles=e,n(0,t)})}function E(e){x[e?"unshift":"push"](()=>{t.root=e,n(0,t)})}return[t,b,c,E]}class B extends C{constructor(a){super();N(this,a,j,I,D,{})}}export{B as default};
