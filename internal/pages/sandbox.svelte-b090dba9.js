import{S as v,i as E,s as T,e as p,k,c as f,a as m,d as u,m as w,b as y,g as N,J as _,N as S,K as b,v as C,$ as H,V as g}from"../chunks/vendor-d81b3668.js";function L(o){let s,a,i,e,r,l;return{c(){s=p("div"),a=p("style"),i=k(),e=p("div"),this.h()},l(n){s=f(n,"DIV",{"data-state":!0});var t=m(s);a=f(t,"STYLE",{});var d=m(a);d.forEach(u),i=w(t),e=f(t,"DIV",{}),m(e).forEach(u),t.forEach(u),this.h()},h(){y(s,"data-state",o[0])},m(n,t){N(n,s,t),_(s,a),o[3](a),_(s,i),_(s,e),o[4](e),r||(l=S(window,"message",o[2]),r=!0)},p(n,[t]){t&1&&y(s,"data-state",n[0])},i:b,o:b,d(n){n&&u(s),o[3](null),o[4](null),r=!1,l()}}}function M(o,s,a){let i="";C(()=>{a(0,i="sandbox-ready")});const e={};function r(t){const{type:d,value:h}=t.data;switch(d){case"CONTENT_CHANGE":if(e==null?void 0:e.root){const c=document.createElement("div");c.innerHTML=h,H(e.root,c)}break;case"STYLE_CHANGE":if(e==null?void 0:e.styles){const c=h.replace("<style>","").replace("</style>","");a(1,e.styles.innerHTML=c,e)}break;default:console.error("Unknown event caught",{type:d,value:h})}}function l(t){g[t?"unshift":"push"](()=>{e.styles=t,a(1,e)})}function n(t){g[t?"unshift":"push"](()=>{e.root=t,a(1,e)})}return[i,e,r,l,n]}class A extends v{constructor(s){super();E(this,s,M,L,T,{})}}export{A as default};
