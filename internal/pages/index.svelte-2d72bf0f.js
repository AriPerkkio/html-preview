import{S as F,i as H,s as V,F as fe,C as R,e as G,c as j,a as A,d as _,b as E,L as de,M as oe,g as x,J as $,N as Be,G as he,H as ge,I as me,z as X,q as k,o as L,O as P,P as pe,Q as I,R as B,T as U,K as D,w as S,x as z,y as N,B as O,k as W,m as J,n as _e,p as ve,v as we,U as $e,V as Y,l as ae,W as se,X as Ce,Y as ie,Z as ke,t as te,h as ne,_ as Re}from"../chunks/vendor-d81b3668.js";import{_ as Le,b as ce}from"../chunks/paths-fb6b994c.js";function Te(i){let e,n,t,c,s;const r=i[2].default,a=fe(r,i,i[1],null);let o=[i[0]],f={};for(let g=0;g<o.length;g+=1)f=R(f,o[g]);return{c(){e=G("button"),n=G("div"),a&&a.c(),this.h()},l(g){e=j(g,"BUTTON",{});var h=A(e);n=j(h,"DIV",{"aria-hidden":!0,class:!0});var y=A(n);a&&a.l(y),y.forEach(_),h.forEach(_),this.h()},h(){E(n,"aria-hidden","true"),E(n,"class","icon-wrapper svelte-1sntw6g"),de(e,f),oe(e,"svelte-1sntw6g",!0)},m(g,h){x(g,e,h),$(e,n),a&&a.m(n,null),e.autofocus&&e.focus(),t=!0,c||(s=Be(e,"click",i[3]),c=!0)},p(g,[h]){a&&a.p&&(!t||h&2)&&he(a,r,g,g[1],t?me(r,g[1],h,null):ge(g[1]),null),de(e,f=X(o,[h&1&&g[0]])),oe(e,"svelte-1sntw6g",!0)},i(g){t||(k(a,g),t=!0)},o(g){L(a,g),t=!1},d(g){g&&_(e),a&&a.d(g),c=!1,s()}}}function xe(i,e,n){let{$$slots:t={},$$scope:c}=e;function s(r){pe.call(this,i,r)}return i.$$set=r=>{n(0,e=R(R({},e),P(r))),"$$scope"in r&&n(1,c=r.$$scope)},e=P(e),[e,c,t,s]}class K extends F{constructor(e){super();H(this,e,xe,Te,V,{})}}function Se(i){let e,n,t,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],s={};for(let r=0;r<c.length;r+=1)s=R(s,c[r]);return{c(){e=I("svg"),n=I("g"),t=I("path"),this.h()},l(r){e=B(r,"svg",{xmlns:!0,viewBox:!0});var a=A(e);n=B(a,"g",{"data-name":!0});var o=A(n);t=B(o,"path",{d:!0,"data-name":!0}),A(t).forEach(_),o.forEach(_),a.forEach(_),this.h()},h(){E(t,"d","m13.41 12 4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"),E(t,"data-name","close"),E(n,"data-name","Layer 2"),U(e,s)},m(r,a){x(r,e,a),$(e,n),$(n,t)},p(r,[a]){U(e,s=X(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},a&1&&r[0]]))},i:D,o:D,d(r){r&&_(e)}}}function ze(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class Ne extends F{constructor(e){super();H(this,e,ze,Se,V,{})}}function be(i){let e,n;return e=new K({props:{"aria-label":"Remove editor",title:"Remove editor",class:"remove",$$slots:{default:[Oe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},p(t,c){const s={};c&256&&(s.$$scope={dirty:c,ctx:t}),e.$set(s)},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Oe(i){let e,n;return e=new Ne({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Pe(i){let e,n,t,c,s=i[2]&&be(i);return{c(){e=G("div"),n=G("textarea"),t=W(),s&&s.c(),this.h()},l(r){e=j(r,"DIV",{class:!0});var a=A(e);n=j(a,"TEXTAREA",{class:!0}),A(n).forEach(_),t=J(a),s&&s.l(a),a.forEach(_),this.h()},h(){n.value=i[0],E(n,"class","svelte-15b5w2y"),E(e,"class","codemirror-container svelte-15b5w2y"),oe(e,"active",i[1])},m(r,a){x(r,e,a),$(e,n),i[6](n),$(e,t),s&&s.m(e,null),c=!0},p(r,[a]){(!c||a&1)&&(n.value=r[0]),r[2]?s?(s.p(r,a),a&4&&k(s,1)):(s=be(r),s.c(),k(s,1),s.m(e,null)):s&&(_e(),L(s,1,1,()=>{s=null}),ve()),a&2&&oe(e,"active",r[1])},i(r){c||(k(s),c=!0)},o(r){L(s),c=!1},d(r){r&&_(e),i[6](null),s&&s.d()}}}function Ue(i,e,n){let{code:t=""}=e,{editorId:c}=e,{active:s=!1}=e,{canBeRemoved:r=!0}=e,a;we(async()=>{if(!a)throw new Error("Missing ref to textarea");const{default:h}=await Le(()=>import("../chunks/codemirror-f605f246.js"),["chunks/codemirror-f605f246.js","assets/codemirror-6f45da0e.css"]);h.fromTextArea(a,{lineNumbers:!0,lineWrapping:!0,mode:"htmlmixed",autoCloseBrackets:!0,autoCloseTags:!0,value:t}).on("change",m=>{n(0,t=m.getValue()),o("change",{value:t,editorId:c})})});const o=$e();function f(){o("remove",{editorId:c})}function g(h){Y[h?"unshift":"push"](()=>{a=h,n(3,a)})}return i.$$set=h=>{"code"in h&&n(0,t=h.code),"editorId"in h&&n(5,c=h.editorId),"active"in h&&n(1,s=h.active),"canBeRemoved"in h&&n(2,r=h.canBeRemoved)},i.$$.update=()=>{i.$$.dirty&35&&s&&o("change",{value:t,editorId:c})},[t,s,r,a,f,c,g]}class Ae extends F{constructor(e){super();H(this,e,Ue,Pe,V,{code:0,editorId:5,active:1,canBeRemoved:2})}}function De(i){let e,n,t,c,s,r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],a={};for(let o=0;o<r.length;o+=1)a=R(a,r[o]);return{c(){e=I("svg"),n=I("g"),t=I("g"),c=I("path"),s=I("path"),this.h()},l(o){e=B(o,"svg",{xmlns:!0,viewBox:!0});var f=A(e);n=B(f,"g",{"data-name":!0});var g=A(n);t=B(g,"g",{"data-name":!0});var h=A(t);c=B(h,"path",{d:!0}),A(c).forEach(_),s=B(h,"path",{d:!0}),A(s).forEach(_),h.forEach(_),g.forEach(_),f.forEach(_),this.h()},h(){E(c,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),E(s,"d","M12.34 7.45a1.7 1.7 0 0 0-1.85-.3 1.6 1.6 0 0 0-1 1.48v6.74a1.6 1.6 0 0 0 1 1.48 1.68 1.68 0 0 0 .69.15 1.74 1.74 0 0 0 1.16-.45L16 13.18a1.6 1.6 0 0 0 0-2.36zm-.84 7.15V9.4l2.81 2.6z"),E(t,"data-name","play-circle"),E(n,"data-name","Layer 2"),U(e,a)},m(o,f){x(o,e,f),$(e,n),$(n,t),$(t,c),$(t,s)},p(o,[f]){U(e,a=X(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&o[0]]))},i:D,o:D,d(o){o&&_(e)}}}function Fe(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class He extends F{constructor(e){super();H(this,e,Fe,De,V,{})}}function Ve(i){let e,n,t,c,s,r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],a={};for(let o=0;o<r.length;o+=1)a=R(a,r[o]);return{c(){e=I("svg"),n=I("g"),t=I("g"),c=I("path"),s=I("path"),this.h()},l(o){e=B(o,"svg",{xmlns:!0,viewBox:!0});var f=A(e);n=B(f,"g",{"data-name":!0});var g=A(n);t=B(g,"g",{"data-name":!0});var h=A(t);c=B(h,"path",{d:!0}),A(c).forEach(_),s=B(h,"path",{d:!0}),A(s).forEach(_),h.forEach(_),g.forEach(_),f.forEach(_),this.h()},h(){E(c,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),E(s,"d","M15 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1zM9 8a1 1 0 0 0-1 1v6a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1z"),E(t,"data-name","pause-circle"),E(n,"data-name","Layer 2"),U(e,a)},m(o,f){x(o,e,f),$(e,n),$(n,t),$(t,c),$(t,s)},p(o,[f]){U(e,a=X(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&o[0]]))},i:D,o:D,d(o){o&&_(e)}}}function Ge(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class je extends F{constructor(e){super();H(this,e,Ge,Ve,V,{})}}function We(i){let e,n,t,c,s,r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],a={};for(let o=0;o<r.length;o+=1)a=R(a,r[o]);return{c(){e=I("svg"),n=I("g"),t=I("g"),c=I("path"),s=I("path"),this.h()},l(o){e=B(o,"svg",{xmlns:!0,viewBox:!0});var f=A(e);n=B(f,"g",{"data-name":!0});var g=A(n);t=B(g,"g",{"data-name":!0});var h=A(t);c=B(h,"path",{d:!0}),A(c).forEach(_),s=B(h,"path",{d:!0}),A(s).forEach(_),h.forEach(_),g.forEach(_),f.forEach(_),this.h()},h(){E(c,"d","M17 12v-.09a.88.88 0 0 0-.06-.28.72.72 0 0 0-.11-.19 1 1 0 0 0-.09-.13l-2.86-3a1 1 0 0 0-1.45 1.38L13.66 11H8a1 1 0 0 0 0 2h5.59l-1.3 1.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 .21-.32A1 1 0 0 0 17 12z"),E(s,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),E(t,"data-name","arrow-circle-right"),E(n,"data-name","Layer 2"),U(e,a)},m(o,f){x(o,e,f),$(e,n),$(n,t),$(t,c),$(t,s)},p(o,[f]){U(e,a=X(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&o[0]]))},i:D,o:D,d(o){o&&_(e)}}}function Je(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class qe extends F{constructor(e){super();H(this,e,Je,We,V,{})}}function Qe(i){let e,n,t,c,s,r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],a={};for(let o=0;o<r.length;o+=1)a=R(a,r[o]);return{c(){e=I("svg"),n=I("g"),t=I("g"),c=I("path"),s=I("path"),this.h()},l(o){e=B(o,"svg",{xmlns:!0,viewBox:!0});var f=A(e);n=B(f,"g",{"data-name":!0});var g=A(n);t=B(g,"g",{"data-name":!0});var h=A(t);c=B(h,"path",{d:!0}),A(c).forEach(_),s=B(h,"path",{d:!0}),A(s).forEach(_),h.forEach(_),g.forEach(_),f.forEach(_),this.h()},h(){E(c,"d","M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"),E(s,"d","M15 11h-2V9a1 1 0 0 0-2 0v2H9a1 1 0 0 0 0 2h2v2a1 1 0 0 0 2 0v-2h2a1 1 0 0 0 0-2z"),E(t,"data-name","plus-circle"),E(n,"data-name","Layer 2"),U(e,a)},m(o,f){x(o,e,f),$(e,n),$(n,t),$(t,c),$(t,s)},p(o,[f]){U(e,a=X(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},f&1&&o[0]]))},i:D,o:D,d(o){o&&_(e)}}}function Xe(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class Ze extends F{constructor(e){super();H(this,e,Xe,Qe,V,{})}}function Ee(i,e,n){const t=i.slice();return t[14]=e[n],t[15]=e,t[16]=n,t}function Ye(i){let e,n;return e=new He({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ke(i){let e,n;return e=new je({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function et(i){let e,n;return e=new qe({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function tt(i){let e,n;return e=new Ze({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ye(i,e){let n,t,c,s;function r(o){e[10](o,e[14])}let a={canBeRemoved:e[14].id!==re,active:e[14].id===e[1],editorId:e[14].id};return e[14].code!==void 0&&(a.code=e[14].code),t=new Ae({props:a}),Y.push(()=>ie(t,"code",r)),t.$on("change",e[8]),t.$on("remove",e[4]),{key:i,first:null,c(){n=ae(),S(t.$$.fragment),this.h()},l(o){n=ae(),z(t.$$.fragment,o),this.h()},h(){this.first=n},m(o,f){x(o,n,f),N(t,o,f),s=!0},p(o,f){e=o;const g={};f&1&&(g.canBeRemoved=e[14].id!==re),f&3&&(g.active=e[14].id===e[1]),f&1&&(g.editorId=e[14].id),!c&&f&1&&(c=!0,g.code=e[14].code,se(()=>c=!1)),t.$set(g)},i(o){s||(k(t.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),s=!1},d(o){o&&_(n),O(t,o)}}}function nt(i){let e,n,t,c,s,r,a,o,f,g,h=[],y=new Map,m,w;n=new K({props:{"aria-label":"Loop states",title:"Loop states",disabled:i[2]!=null,$$slots:{default:[Ye]},$$scope:{ctx:i}}}),n.$on("click",i[6]),c=new K({props:{"aria-label":"Pause state looping",title:"Pause state looping",disabled:i[2]==null,$$slots:{default:[Ke]},$$scope:{ctx:i}}}),c.$on("click",i[7]),r=new K({props:{"aria-label":"Next state",title:"Next state",$$slots:{default:[et]},$$scope:{ctx:i}}}),r.$on("click",i[5]),o=new K({props:{"aria-label":"Add editor",title:"Add editor",$$slots:{default:[tt]},$$scope:{ctx:i}}}),o.$on("click",i[3]);const b=i[9].default,v=fe(b,i,i[11],null);let M=i[0];const p=d=>d[14].id;for(let d=0;d<M.length;d+=1){let l=Ee(i,M,d),u=p(l);y.set(u,h[d]=ye(u,l))}return{c(){e=G("div"),S(n.$$.fragment),t=W(),S(c.$$.fragment),s=W(),S(r.$$.fragment),a=W(),S(o.$$.fragment),f=W(),v&&v.c(),g=W();for(let d=0;d<h.length;d+=1)h[d].c();m=ae(),this.h()},l(d){e=j(d,"DIV",{class:!0});var l=A(e);z(n.$$.fragment,l),t=J(l),z(c.$$.fragment,l),s=J(l),z(r.$$.fragment,l),a=J(l),z(o.$$.fragment,l),f=J(l),v&&v.l(l),l.forEach(_),g=J(d);for(let u=0;u<h.length;u+=1)h[u].l(d);m=ae(),this.h()},h(){E(e,"class","controls svelte-eiz9iq")},m(d,l){x(d,e,l),N(n,e,null),$(e,t),N(c,e,null),$(e,s),N(r,e,null),$(e,a),N(o,e,null),$(e,f),v&&v.m(e,null),x(d,g,l);for(let u=0;u<h.length;u+=1)h[u].m(d,l);x(d,m,l),w=!0},p(d,[l]){const u={};l&4&&(u.disabled=d[2]!=null),l&2048&&(u.$$scope={dirty:l,ctx:d}),n.$set(u);const q={};l&4&&(q.disabled=d[2]==null),l&2048&&(q.$$scope={dirty:l,ctx:d}),c.$set(q);const ee={};l&2048&&(ee.$$scope={dirty:l,ctx:d}),r.$set(ee);const C={};l&2048&&(C.$$scope={dirty:l,ctx:d}),o.$set(C),v&&v.p&&(!w||l&2048)&&he(v,b,d,d[11],w?me(b,d[11],l,null):ge(d[11]),null),l&275&&(M=d[0],_e(),h=Ce(h,l,p,1,d,M,y,m.parentNode,ke,ye,m,Ee),ve())},i(d){if(!w){k(n.$$.fragment,d),k(c.$$.fragment,d),k(r.$$.fragment,d),k(o.$$.fragment,d),k(v,d);for(let l=0;l<M.length;l+=1)k(h[l]);w=!0}},o(d){L(n.$$.fragment,d),L(c.$$.fragment,d),L(r.$$.fragment,d),L(o.$$.fragment,d),L(v,d);for(let l=0;l<h.length;l+=1)L(h[l]);w=!1},d(d){d&&_(e),O(n),O(c),O(r),O(o),v&&v.d(d),d&&_(g);for(let l=0;l<h.length;l+=1)h[l].d(d);d&&_(m)}}}const re=1;function rt(i,e,n){var M;let t,{$$slots:c={},$$scope:s}=e;const r=$e();let{editors:a=[{id:re,code:""}]}=e,o=((M=a[0])==null?void 0:M.id)||re,f;function g(){var d;const p=((d=a.find(l=>l.id===t))==null?void 0:d.code)||`

`;n(0,a=[...a,{id:1+t,code:p}])}function h(p){const{editorId:d}=p.detail;if(o===d){const l=a.findIndex(q=>q.id===d),u=a[l-1];n(1,o=(u==null?void 0:u.id)||re)}n(0,a=a.filter(l=>l.id!==d))}function y(){const p=a.map(l=>l.id);if(o===t){n(1,o=Math.min(...p));return}const d=p.indexOf(o);n(1,o=p[1+d])}function m(){if(!f){const p=setInterval(y,2e3);n(2,f=()=>clearInterval(p))}}function w(){f&&(f(),n(2,f=null))}function b(p){const{value:d,editorId:l}=p.detail;l===o&&r("change",{value:d})}function v(p,d){i.$$.not_equal(d.code,p)&&(d.code=p,n(0,a))}return i.$$set=p=>{"editors"in p&&n(0,a=p.editors),"$$scope"in p&&n(11,s=p.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&(t=Math.max(...a.map(p=>p.id)))},[a,o,f,g,h,y,m,w,b,c,v,s]}class ot extends F{constructor(e){super();H(this,e,rt,nt,V,{editors:0})}}function at(i){let e,n,t;function c(r){i[1](r)}let s={editorId:0,canBeRemoved:!1};return i[0]!==void 0&&(s.code=i[0]),e=new Ae({props:s}),Y.push(()=>ie(e,"code",c)),e.$on("change",i[2]),{c(){S(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,a){N(e,r,a),t=!0},p(r,[a]){const o={};!n&&a&1&&(n=!0,o.code=r[0],se(()=>n=!1)),e.$set(o)},i(r){t||(k(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function st(i,e,n){let{code:t=""}=e;function c(r){t=r,n(0,t)}function s(r){pe.call(this,i,r)}return i.$$set=r=>{"code"in r&&n(0,t=r.code)},[t,c,s]}class it extends F{constructor(e){super();H(this,e,st,at,V,{code:0})}}var Me=function(){function i(s,r){if(!t[s]){t[s]={};for(var a=0;a<s.length;a++)t[s][s.charAt(a)]=a}return t[s][r]}var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",t={},c={compressToEncodedURIComponent:function(s){return s==null?"":c._compress(s,6,function(r){return n.charAt(r)})},decompressFromEncodedURIComponent:function(s){return s==null?"":s==""?null:(s=s.replace(/ /g,"+"),c._decompress(s.length,32,function(r){return i(n,s.charAt(r))}))},_compress:function(s,r,a){if(s==null)return"";var o,f,g,h={},y={},m="",w="",b="",v=2,M=3,p=2,d=[],l=0,u=0;for(g=0;g<s.length;g+=1)if(m=s.charAt(g),Object.prototype.hasOwnProperty.call(h,m)||(h[m]=M++,y[m]=!0),w=b+m,Object.prototype.hasOwnProperty.call(h,w))b=w;else{if(Object.prototype.hasOwnProperty.call(y,b)){if(b.charCodeAt(0)<256){for(o=0;p>o;o++)l<<=1,u==r-1?(u=0,d.push(a(l)),l=0):u++;for(f=b.charCodeAt(0),o=0;8>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1}else{for(f=1,o=0;p>o;o++)l=l<<1|f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f=0;for(f=b.charCodeAt(0),o=0;16>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1}v--,v==0&&(v=Math.pow(2,p),p++),delete y[b]}else for(f=h[b],o=0;p>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1;v--,v==0&&(v=Math.pow(2,p),p++),h[w]=M++,b=String(m)}if(b!==""){if(Object.prototype.hasOwnProperty.call(y,b)){if(b.charCodeAt(0)<256){for(o=0;p>o;o++)l<<=1,u==r-1?(u=0,d.push(a(l)),l=0):u++;for(f=b.charCodeAt(0),o=0;8>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1}else{for(f=1,o=0;p>o;o++)l=l<<1|f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f=0;for(f=b.charCodeAt(0),o=0;16>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1}v--,v==0&&(v=Math.pow(2,p),p++),delete y[b]}else for(f=h[b],o=0;p>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1;v--,v==0&&(v=Math.pow(2,p),p++)}for(f=2,o=0;p>o;o++)l=l<<1|1&f,u==r-1?(u=0,d.push(a(l)),l=0):u++,f>>=1;for(;;){if(l<<=1,u==r-1){d.push(a(l));break}u++}return d.join("")},_decompress:function(s,r,a){var o,f,g,h,y,m,w,b=[],v=4,M=4,p=3,d="",l=[],u={val:a(0),position:r,index:1};for(o=0;3>o;o+=1)b[o]=o;for(g=0,y=Math.pow(2,2),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;switch(g){case 0:for(g=0,y=Math.pow(2,8),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;w=e(g);break;case 1:for(g=0,y=Math.pow(2,16),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;w=e(g);break;case 2:return""}for(b[3]=w,f=w,l.push(w);;){if(u.index>s)return"";for(g=0,y=Math.pow(2,p),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;switch(w=g){case 0:for(g=0,y=Math.pow(2,8),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;b[M++]=e(g),w=M-1,v--;break;case 1:for(g=0,y=Math.pow(2,16),m=1;m!=y;)h=u.val&u.position,u.position>>=1,u.position==0&&(u.position=r,u.val=a(u.index++)),g|=(h>0?1:0)*m,m<<=1;b[M++]=e(g),w=M-1,v--;break;case 2:return l.join("")}if(v==0&&(v=Math.pow(2,p),p++),b[w])d=b[w];else{if(w!==M)return null;d=f+f.charAt(0)}l.push(d),b[M++]=f+d.charAt(0),v--,f=d,v==0&&(v=Math.pow(2,p),p++)}}};return c}();const lt=Me.decompressFromEncodedURIComponent,ct=Me.compressToEncodedURIComponent;function ut(){const i={editors:[{id:1,code:`



`}],style:`<style>
  
</style>`},e=new URLSearchParams(document.location.search).get("code");let n;if(e)try{const t=lt(e);n=JSON.parse(t)}catch(t){console.error("Unable to parse url search parameters",t)}return le(n,"style")&&typeof n.style=="string"&&le(n,"editors")&&Array.isArray(n.editors)&&n.editors.every(dt)?{style:n.style,editors:n.editors}:i}function ft(i){const e=ct(JSON.stringify(i)),n=new URL(ce,window.location.origin);return n.searchParams.set("code",e),n}function dt(i){return le(i,"id")&&typeof i.id=="number"&&le(i,"code")&&typeof i.code=="string"}function le(i,e){return i?e in i:!1}function ht(i){let e,n,t,c=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},i[0]],s={};for(let r=0;r<c.length;r+=1)s=R(s,c[r]);return{c(){e=I("svg"),n=I("g"),t=I("path"),this.h()},l(r){e=B(r,"svg",{xmlns:!0,viewBox:!0});var a=A(e);n=B(a,"g",{"data-name":!0});var o=A(n);t=B(o,"path",{d:!0,"data-name":!0}),A(t).forEach(_),o.forEach(_),a.forEach(_),this.h()},h(){E(t,"d","M18 15a3 3 0 0 0-2.1.86L8 12.34v-.67l7.9-3.53A3 3 0 1 0 15 6v.34L7.1 9.86a3 3 0 1 0 0 4.28l7.9 3.53V18a3 3 0 1 0 3-3zm0-10a1 1 0 1 1-1 1 1 1 0 0 1 1-1zM5 13a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm13 6a1 1 0 1 1 1-1 1 1 0 0 1-1 1z"),E(t,"data-name","share"),E(n,"data-name","Layer 2"),U(e,s)},m(r,a){x(r,e,a),$(e,n),$(n,t)},p(r,[a]){U(e,s=X(c,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 24 24"},a&1&&r[0]]))},i:D,o:D,d(r){r&&_(e)}}}function gt(i,e,n){return i.$$set=t=>{n(0,e=R(R({},e),P(t)))},e=P(e),[e]}class mt extends F{constructor(e){super();H(this,e,gt,ht,V,{})}}function pt(i){let e,n;return e=new mt({}),{c(){S(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,c){N(e,t,c),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){L(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ie(i){let e;return{c(){e=te("URL copied to clipboard!")},l(n){e=ne(n,"URL copied to clipboard!")},m(n,t){x(n,e,t)},d(n){n&&_(e)}}}function _t(i){let e,n,t,c;e=new K({props:{"aria-label":"Share",title:"Share",$$slots:{default:[pt]},$$scope:{ctx:i}}}),e.$on("click",i[5]);let s=i[2]&&Ie();return{c(){S(e.$$.fragment),n=W(),t=G("span"),s&&s.c(),this.h()},l(r){z(e.$$.fragment,r),n=J(r),t=j(r,"SPAN",{"aria-live":!0});var a=A(t);s&&s.l(a),a.forEach(_),this.h()},h(){E(t,"aria-live","polite")},m(r,a){N(e,r,a),x(r,n,a),x(r,t,a),s&&s.m(t,null),c=!0},p(r,a){const o={};a&1024&&(o.$$scope={dirty:a,ctx:r}),e.$set(o),r[2]?s||(s=Ie(),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(r){c||(k(e.$$.fragment,r),c=!0)},o(r){L(e.$$.fragment,r),c=!1},d(r){O(e,r),r&&_(n),r&&_(t),s&&s.d()}}}function vt(i){let e,n,t,c,s,r,a,o,f,g,h,y,m,w,b,v,M,p,d;function l(C){i[7](C)}let u={$$slots:{default:[_t]},$$scope:{ctx:i}};i[3]!==void 0&&(u.editors=i[3]),w=new ot({props:u}),Y.push(()=>ie(w,"editors",l)),w.$on("change",i[4]);function q(C){i[8](C)}let ee={};return i[0]!==void 0&&(ee.code=i[0]),M=new it({props:ee}),Y.push(()=>ie(M,"code",q)),{c(){e=G("div"),n=G("h1"),t=te("HTML Preview"),c=W(),s=G("p"),r=te(`Test and share snippets of HTML and state tranformations with others.
        `),a=G("a"),o=te("For insipiration see ARIA-live region example."),f=te(`

        Remember to click play to see state transformations.`),g=W(),h=G("iframe"),m=W(),S(w.$$.fragment),v=W(),S(M.$$.fragment),this.h()},l(C){e=j(C,"DIV",{class:!0});var T=A(e);n=j(T,"H1",{});var Z=A(n);t=ne(Z,"HTML Preview"),Z.forEach(_),c=J(T),s=j(T,"P",{});var Q=A(s);r=ne(Q,`Test and share snippets of HTML and state tranformations with others.
        `),a=j(Q,"A",{rel:!0,href:!0});var ue=A(a);o=ne(ue,"For insipiration see ARIA-live region example."),ue.forEach(_),f=ne(Q,`

        Remember to click play to see state transformations.`),Q.forEach(_),g=J(T),h=j(T,"IFRAME",{class:!0,security:!0,src:!0,title:!0}),A(h).forEach(_),m=J(T),z(w.$$.fragment,T),v=J(T),z(M.$$.fragment,T),T.forEach(_),this.h()},h(){E(a,"rel","external"),E(a,"href",""+(ce+"/?code=N4IgzgLgngNgpiAXCAPJWcB8AdAdgAnwAd9g9DCAzAe1wgFowBLALzkXwEYA6AJgCc4AWwDc5fAF9xAbX7V4AXmzgIAQwgBXMMoC6pcYQDG86vw4AjGBrhiCFGnUat2%2BAcNuEpuFAHp08TBAAGhA4ABMmCFMwJGlQJjCkThDjMIRkFCIcOwBhGCZDAGtiGFUofCj8MDg4fHyAN1rBAHMmWnwNIjD1ODxfLL6I%2Bvw5RWVIdS1lbMI%2BnyHAiSD4xMReFOo0pFQB3PyikrKK6iqauqZGkbhW9s7uiF7vH12UIZH5OCUVSe0QGfwABJwGAwE4Ad1MMDCcwWIAkOgkQA")),E(h,"class","sandbox svelte-1lch588"),E(h,"security","restricted"),Re(h.src,y=""+(ce+"/sandbox"))||E(h,"src",y),E(h,"title","Sandbox"),E(e,"class","wrapper svelte-1lch588")},m(C,T){x(C,e,T),$(e,n),$(n,t),$(e,c),$(e,s),$(s,r),$(s,a),$(a,o),$(s,f),$(e,g),$(e,h),i[6](h),$(e,m),N(w,e,null),$(e,v),N(M,e,null),d=!0},p(C,[T]){const Z={};T&1028&&(Z.$$scope={dirty:T,ctx:C}),!b&&T&8&&(b=!0,Z.editors=C[3],se(()=>b=!1)),w.$set(Z);const Q={};!p&&T&1&&(p=!0,Q.code=C[0],se(()=>p=!1)),M.$set(Q)},i(C){d||(k(w.$$.fragment,C),k(M.$$.fragment,C),d=!0)},o(C){L(w.$$.fragment,C),L(M.$$.fragment,C),d=!1},d(C){C&&_(e),i[6](null),O(w),O(M)}}}function wt(i,e,n){const t={};let c,{editors:s,style:r}=ut();we(()=>{a({type:"CONTENT_CHANGE",value:s[0].code})});function a(m,w=20){var M,p,d;const b=(M=t.sandbox)==null?void 0:M.contentWindow,v=(d=(p=t.sandbox)==null?void 0:p.contentDocument)==null?void 0:d.readyState;console.log("iframe readyState",v),v==="complete"&&b?b.postMessage(m):w>0&&setTimeout(()=>a(m,w-1),500)}function o(m){a({type:"CONTENT_CHANGE",value:m.detail.value})}function f(){const m=ft({style:r,editors:s});window.history.pushState({},"",m),n(2,c=m.toString()),navigator.clipboard.writeText(c).then(()=>{setTimeout(()=>{n(2,c="")},3e3)})}function g(m){Y[m?"unshift":"push"](()=>{t.sandbox=m,n(1,t)})}function h(m){s=m,n(3,s)}function y(m){r=m,n(0,r)}return i.$$.update=()=>{i.$$.dirty&1&&a({type:"STYLE_CHANGE",value:r})},[r,t,c,s,o,f,g,h,y]}class At extends F{constructor(e){super();H(this,e,wt,vt,V,{})}}export{At as default};
