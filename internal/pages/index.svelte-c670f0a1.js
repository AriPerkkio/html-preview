import{S as C,i as A,s as R,e as b,t as B,c as E,a as y,h as x,d as _,g as p,J as $,L,K as I,k as w,m as T,b as k,M as P,N as W,v as Y,O as G,l as H,w as O,x as V,y as D,q as M,o as N,B as S,n as z,P as Z,p as ee,Q as te,R as ne,T as re,U as oe}from"../chunks/vendor-b5f731c1.js";import{_ as se,b as ae}from"../chunks/paths-fb6b994c.js";function F(a){let e,r,n,o;return{c(){e=b("button"),r=B("Remove editor")},l(t){e=E(t,"BUTTON",{});var s=y(e);r=x(s,"Remove editor"),s.forEach(_)},m(t,s){p(t,e,s),$(e,r),n||(o=L(e,"click",a[3]),n=!0)},p:I,d(t){t&&_(e),n=!1,o()}}}function ie(a){let e,r,n,o=!a[1]&&F(a);return{c(){o&&o.c(),e=w(),r=b("div"),n=b("textarea"),this.h()},l(t){o&&o.l(t),e=T(t),r=E(t,"DIV",{class:!0});var s=y(r);n=E(s,"TEXTAREA",{class:!0}),y(n).forEach(_),s.forEach(_),this.h()},h(){n.value=a[0],k(n,"class","svelte-1awo5ji"),k(r,"class","codemirror-container svelte-1awo5ji"),P(r,"active",a[1])},m(t,s){o&&o.m(t,s),p(t,e,s),p(t,r,s),$(r,n),a[5](n)},p(t,[s]){t[1]?o&&(o.d(1),o=null):o?o.p(t,s):(o=F(t),o.c(),o.m(e.parentNode,e)),s&1&&(n.value=t[0]),s&2&&P(r,"active",t[1])},i:I,o:I,d(t){o&&o.d(t),t&&_(e),t&&_(r),a[5](null)}}}function le(a,e,r){const n=W();let{code:o=""}=e,{editorId:t}=e,{active:s=!1}=e,c;Y(async()=>{let u=await se(()=>import("../chunks/codemirror-f605f246.js"),["chunks/codemirror-f605f246.js","assets/codemirror-6f45da0e.css"]);await l(u.default)});async function l(u){if(!c)throw new Error("Missing ref to textarea");const h=u.fromTextArea(c,{lineNumbers:!0,lineWrapping:!0,mode:"htmlmixed",autoCloseBrackets:!0,autoCloseTags:!0,value:o});h.on("change",v=>{r(0,o=v.getValue()),n("change",{value:o,editorId:t})}),h.setValue(o)}function m(){n("remove",{editorId:t})}function f(u){G[u?"unshift":"push"](()=>{c=u,r(2,c)})}return a.$$set=u=>{"code"in u&&r(0,o=u.code),"editorId"in u&&r(4,t=u.editorId),"active"in u&&r(1,s=u.active)},a.$$.update=()=>{a.$$.dirty&19&&s&&n("change",{value:o,editorId:t})},[o,s,c,m,t,f]}class J extends C{constructor(e){super();A(this,e,le,ie,R,{code:0,editorId:4,active:1})}}function K(a,e,r){const n=a.slice();return n[8]=e[r],n}function Q(a,e){let r,n,o;return n=new J({props:{active:e[8]===e[1],editorId:e[8]}}),n.$on("change",e[5]),n.$on("remove",e[3]),{key:a,first:null,c(){r=H(),O(n.$$.fragment),this.h()},l(t){r=H(),V(n.$$.fragment,t),this.h()},h(){this.first=r},m(t,s){p(t,r,s),D(n,t,s),o=!0},p(t,s){e=t;const c={};s&3&&(c.active=e[8]===e[1]),s&1&&(c.editorId=e[8]),n.$set(c)},i(t){o||(M(n.$$.fragment,t),o=!0)},o(t){N(n.$$.fragment,t),o=!1},d(t){t&&_(r),S(n,t)}}}function ce(a){let e,r,n,o,t,s,c,l=[],m=new Map,f,u,h,v=a[0];const U=i=>i[8];for(let i=0;i<v.length;i+=1){let d=K(a,v,i),g=U(d);m.set(g,l[i]=Q(g,d))}return{c(){e=b("button"),r=B("Next state"),n=w(),o=b("button"),t=B("Add editor"),s=w(),c=b("div");for(let i=0;i<l.length;i+=1)l[i].c()},l(i){e=E(i,"BUTTON",{});var d=y(e);r=x(d,"Next state"),d.forEach(_),n=T(i),o=E(i,"BUTTON",{});var g=y(o);t=x(g,"Add editor"),g.forEach(_),s=T(i),c=E(i,"DIV",{});var q=y(c);for(let j=0;j<l.length;j+=1)l[j].l(q);q.forEach(_)},m(i,d){p(i,e,d),$(e,r),p(i,n,d),p(i,o,d),$(o,t),p(i,s,d),p(i,c,d);for(let g=0;g<l.length;g+=1)l[g].m(c,null);f=!0,u||(h=[L(e,"click",a[4]),L(o,"click",a[2])],u=!0)},p(i,[d]){d&43&&(v=i[0],z(),l=Z(l,d,U,1,i,v,m,c,ne,Q,null,K),ee())},i(i){if(!f){for(let d=0;d<v.length;d+=1)M(l[d]);f=!0}},o(i){for(let d=0;d<l.length;d+=1)N(l[d]);f=!1},d(i){i&&_(e),i&&_(n),i&&_(o),i&&_(s),i&&_(c);for(let d=0;d<l.length;d+=1)l[d].d();u=!1,te(h)}}}const X=1;function ue(a,e,r){let n;const o=W();let t=[X],s=X;function c(){r(0,t=[...t,1+n])}function l(u){const{editorId:h}=u.detail;r(0,t=t.filter(v=>v!==h))}function m(){const u=Math.min(...t);if(s===n){r(1,s=u);return}const h=t.indexOf(s);r(1,s=t[1+h])}function f(u){const{value:h,editorId:v}=u.detail;v===s&&o("change",{value:h})}return a.$$.update=()=>{a.$$.dirty&1&&(n=Math.max(...t))},[t,s,c,l,m,f]}class fe extends C{constructor(e){super();A(this,e,ue,ce,R,{})}}function de(a){let e,r;return e=new J({props:{code:a[0],editorId:0}}),e.$on("change",a[1]),{c(){O(e.$$.fragment)},l(n){V(e.$$.fragment,n)},m(n,o){D(e,n,o),r=!0},p:I,i(n){r||(M(e.$$.fragment,n),r=!0)},o(n){N(e.$$.fragment,n),r=!1},d(n){S(e,n)}}}function _e(a){const e=`<style>
  
</style>`;function r(n){re.call(this,a,n)}return[e,r]}class me extends C{constructor(e){super();A(this,e,_e,de,R,{})}}function he(a){let e,r,n,o,t,s,c,l,m;return s=new me({}),s.$on("change",a[2]),l=new fe({}),l.$on("change",a[1]),{c(){e=b("div"),r=b("iframe"),o=w(),t=b("div"),O(s.$$.fragment),c=w(),O(l.$$.fragment),this.h()},l(f){e=E(f,"DIV",{class:!0});var u=y(e);r=E(u,"IFRAME",{security:!0,src:!0,title:!0}),y(r).forEach(_),o=T(u),t=E(u,"DIV",{});var h=y(t);V(s.$$.fragment,h),c=T(h),V(l.$$.fragment,h),h.forEach(_),u.forEach(_),this.h()},h(){k(r,"security","restricted"),oe(r.src,n=""+(ae+"/sandbox"))||k(r,"src",n),k(r,"title","Sandbox"),k(e,"class","wrapper svelte-wl8r8k")},m(f,u){p(f,e,u),$(e,r),a[3](r),$(e,o),$(e,t),D(s,t,null),$(t,c),D(l,t,null),m=!0},p:I,i(f){m||(M(s.$$.fragment,f),M(l.$$.fragment,f),m=!0)},o(f){N(s.$$.fragment,f),N(l.$$.fragment,f),m=!1},d(f){f&&_(e),a[3](null),S(s),S(l)}}}function ve(a,e,r){const n={};function o(c){var m,f;const{value:l}=c.detail;(f=(m=n.sandbox)==null?void 0:m.contentWindow)==null||f.postMessage({type:"CONTENT_CHANGE",value:l})}function t(c){var m,f;const{value:l}=c.detail;(f=(m=n.sandbox)==null?void 0:m.contentWindow)==null||f.postMessage({type:"STYLE_CHANGE",value:l})}function s(c){G[c?"unshift":"push"](()=>{n.sandbox=c,r(0,n)})}return[n,o,t,s]}class be extends C{constructor(e){super();A(this,e,ve,he,R,{})}}export{be as default};
