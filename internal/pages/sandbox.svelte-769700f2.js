import{S as x,i as A,s as C,e as d,k as T,t as D,c as h,a as m,m as v,h as Y,d as u,b as w,g as G,J as o,N as I,K as S,$ as O,V as M}from"../chunks/vendor-d81b3668.js";function V(r){let s,t,e,_,i,b,a,l,c,n,y,g,k;return{c(){s=d("html"),t=d("head"),e=d("meta"),_=T(),i=d("title"),b=D("Sandbox"),a=T(),l=d("style"),c=T(),n=d("body"),y=d("div"),this.h()},l(E){s=h(E,"HTML",{lang:!0});var f=m(s);t=h(f,"HEAD",{});var p=m(t);e=h(p,"META",{charset:!0}),_=v(p),i=h(p,"TITLE",{});var H=m(i);b=Y(H,"Sandbox"),H.forEach(u),a=v(p),l=h(p,"STYLE",{});var N=m(l);N.forEach(u),p.forEach(u),c=v(f),n=h(f,"BODY",{class:!0});var L=m(n);y=h(L,"DIV",{}),m(y).forEach(u),L.forEach(u),f.forEach(u),this.h()},h(){w(e,"charset","utf-8"),w(n,"class","sandbox preview"),w(s,"lang","en")},m(E,f){G(E,s,f),o(s,t),o(t,e),o(t,_),o(t,i),o(i,b),o(t,a),o(t,l),r[2](l),o(s,c),o(s,n),o(n,y),r[3](y),g||(k=I(window,"message",r[1]),g=!0)},p:S,i:S,o:S,d(E){E&&u(s),r[2](null),r[3](null),g=!1,k()}}}function j(r,s,t){const e={};function _(a){const{type:l,value:c}=a.data;switch(l){case"CONTENT_CHANGE":if(e==null?void 0:e.root){const n=document.createElement("div");n.innerHTML=c,O(e.root,n)}break;case"STYLE_CHANGE":if(e==null?void 0:e.styles){const n=c.replace("<style>","").replace("</style>","");t(0,e.styles.innerHTML=n,e)}break;default:console.error("Unknown event caught",{type:l,value:c})}}function i(a){M[a?"unshift":"push"](()=>{e.styles=a,t(0,e)})}function b(a){M[a?"unshift":"push"](()=>{e.root=a,t(0,e)})}return[e,_,i,b]}class B extends x{constructor(s){super();A(this,s,j,V,C,{})}}export{B as default};
