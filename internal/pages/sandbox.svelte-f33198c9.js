import{S as A,i as C,s as N,e as d,k as T,t as D,c as h,a as m,m as v,h as O,d as u,b as w,g as Y,J as o,L as G,K as L,X as I,O as M}from"../chunks/vendor-94644b28.js";function j(r){let s,t,e,_,i,b,a,l,c,n,y,g,S;return{c(){s=d("html"),t=d("head"),e=d("meta"),_=T(),i=d("title"),b=D("Sandbox"),a=T(),l=d("style"),c=T(),n=d("body"),y=d("div"),this.h()},l(E){s=h(E,"HTML",{lang:!0});var f=m(s);t=h(f,"HEAD",{});var p=m(t);e=h(p,"META",{charset:!0}),_=v(p),i=h(p,"TITLE",{});var k=m(i);b=O(k,"Sandbox"),k.forEach(u),a=v(p),l=h(p,"STYLE",{});var x=m(l);x.forEach(u),p.forEach(u),c=v(f),n=h(f,"BODY",{class:!0});var H=m(n);y=h(H,"DIV",{}),m(y).forEach(u),H.forEach(u),f.forEach(u),this.h()},h(){w(e,"charset","utf-8"),w(n,"class","sandbox preview"),w(s,"lang","en")},m(E,f){Y(E,s,f),o(s,t),o(t,e),o(t,_),o(t,i),o(i,b),o(t,a),o(t,l),r[2](l),o(s,c),o(s,n),o(n,y),r[3](y),g||(S=G(window,"message",r[1]),g=!0)},p:L,i:L,o:L,d(E){E&&u(s),r[2](null),r[3](null),g=!1,S()}}}function q(r,s,t){const e={};function _(a){const{type:l,value:c}=a.data;switch(l){case"CONTENT_CHANGE":if(e==null?void 0:e.root){const n=document.createElement("div");n.innerHTML=c,I(e.root,n)}break;case"STYLE_CHANGE":if(e==null?void 0:e.styles){const n=c.replace("<style>","").replace("</style>","");t(0,e.styles.innerHTML=n,e)}break;default:console.error("Unknown event caught",{type:l,value:c})}}function i(a){M[a?"unshift":"push"](()=>{e.styles=a,t(0,e)})}function b(a){M[a?"unshift":"push"](()=>{e.root=a,t(0,e)})}return[e,_,i,b]}class J extends A{constructor(s){super();C(this,s,q,j,N,{})}}export{J as default};
